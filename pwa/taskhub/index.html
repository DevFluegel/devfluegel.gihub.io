<!DOCTYPE html>
<html lang="de">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TaskHub â€“ DevFlÃ¼gel</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-900 text-white pt-16">
  <header class="fixed top-0 left-0 w-full flex justify-between items-center px-5 py-4 bg-[#454a56] rounded-b-2xl z-10">
    <div class="logo-container flex items-center">
      <img src="icon.png" alt="Logo" class="h-8 mr-2">
      <div class="text-2xl font-bold text-lime-400">TaskHub</div>
    </div>
    <nav>
      <a href="#" class="hover:text-lime-400">Max Mustermann</a>
    </nav>
  </header>

  <section class="min-h-screen flex flex-col p-10 gap-5">
    <section class="min-h-screen flex flex-col gap-5" id="task-container">
      
    </section>
  </section>

  <script>
    const tasks = [
      { id: 1, title: "Task 1", deadline: "noch 2 Tage", status: "Geplant" },
      { id: 2, title: "Task 2", deadline: "noch 1 Tag", status: "In Arbeit" },
      { id: 3, title: "Task 3", deadline: "Ã¼berfÃ¤llig", status: "Geplant" },
      { id: 4, title: "Task 4", deadline: "noch 3 Tage", status: "GelÃ¶scht" },
      { id: 5, title: "Task 5", deadline: "noch 5 Tage", status: "Geplant" },
      { id: 6, title: "Task 6", deadline: "noch 4 Tage", status: "In Arbeit" }
    ];

    const statuses = ["Geplant", "In Arbeit", "Erledigt", "GelÃ¶scht"];

    function renderTasks() {
      const container = document.getElementById("task-container");
      container.innerHTML = "";
      
      statuses.forEach(status => {
        const filteredTasks = tasks.filter(task => task.status === status);
        if (filteredTasks.length === 0) return;

        const group = document.createElement("div");
        group.className = "group bg-white/15 p-8 rounded-lg max-w-2xl";
        
        group.innerHTML = `
          <button class="group-header flex justify-between items-center w-full text-left text-lg font-semibold hover:text-lime-400 transition" onclick="toggleGroup(this)">
            <span>${status}</span>
            <span class="chevron transition-transform">â–¼</span>
          </button>
          <div class="group-content mt-4 space-y-4">
            ${filteredTasks.map(task => `
              <div class="task-card bg-white/10 p-4 rounded-lg text-left flex justify-between items-center">
                <div>
                  <div class="font-semibold">${task.title}</div>
                  ${task.status !== "Erledigt" && task.status !== "GelÃ¶scht" ? `<div class="text-sm text-gray-400">${task.deadline}</div>` : ""}
                </div>
                <div class="flex gap-2">
                  <button onclick="undoTask(${task.id})" class="text-yellow-400">âŸ²</button>
                  ${getNextActionButton(task)}
                </div>
              </div>
            `).join("")}
          </div>
        `;
        
        container.appendChild(group);
      });
    }

    function getNextActionButton(task) {
      switch (task.status) {
        case "Geplant":
          return `<button onclick="updateTaskStatus(${task.id}, 'In Arbeit')" class="text-green-400">â–¶</button>`;
        case "In Arbeit":
          return `<button onclick="updateTaskStatus(${task.id}, 'Erledigt')" class="text-blue-400">âœ”</button>`;
        case "Erledigt":
          return `<button onclick="updateTaskStatus(${task.id}, 'GelÃ¶scht')" class="text-red-400">âœ–</button>`;
        case "GelÃ¶scht":
          return `<button onclick="deleteTask(${task.id})" class="text-gray-500">ðŸ—‘</button>`;
        default:
          return "";
      }
    }

    function updateTaskStatus(id, newStatus) {
      const task = tasks.find(t => t.id === id);
      if (task) {
        task.status = newStatus;
        renderTasks();
      }
    }

    function deleteTask(id) {
      const index = tasks.findIndex(t => t.id === id);
      if (index !== -1) {
        tasks.splice(index, 1);
        renderTasks();
      }
    }

    function undoTask(id) {
      console.log("Undo action for task", id);
    }

    function toggleGroup(button) {
      const content = button.nextElementSibling;
      content.classList.toggle("hidden");
      button.querySelector(".chevron").classList.toggle("rotate-180");
    }

    renderTasks();
  </script>
</body>

</html>
